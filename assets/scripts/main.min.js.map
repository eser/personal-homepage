{"version":3,"sources":["main.js"],"names":["global","requestAnimationFrame","callback","setTimeout","Date","now","getComputedStyle","element","this","getPropertyValue","prop","re","test","replace","arguments","toUpperCase","currentStyle","getPropertyCSSValue","CSSPrimitiveValue","primitiveType","getFloatValue","Event","prototype","preventDefault","returnValue","stopPropagation","cancelBubble","undefined","Element","eventListeners","addListener","eventname","self","wrapper","event","target","srcElement","currentTarget","attachEvent","push","object","type","listener","removeListener","i","length","eventListener","detachEvent","splice","dispatchEvent","eventObject","document","createEventObject","fireEvent","addEventListener","removeEventListener","HTMLDocument","Window","readyState","innerText","Object","getOwnPropertyDescriptor","defineProperty","get","call","set","value","getAttribute","attribute","attributes","setAttribute","removeAttribute","removeNamedItem","children","add","className","trim","remove","RegExp","split","join","contains","Text","nodeValue","String","observe","keys","item","hasOwnProperty","laroux","selector","parent","Array","helpers","toArray","querySelectorAll","querySelector","cached","single","array","id","c","getElementById","idc","popupFunc","alert","readyPassed","ready","fnc","events","extend","unshift","extendObject","apply","shift","name","each","arr","testOwnProperties","map","dontSkipReturns","results","result","index","aeach","amap","aindex","start","$l","invoke","selection","NodeList","Node","dom","select","singleTemplate","arrayTemplate","source","isArray","find","elements","registerBoth","registerSingle","registerArray","register","scope","newFnc","concat","ajax","corsDefault","wrappers","registry","laroux.js","data","isSuccess","errorMessage","obj","format","JSON","parse","eval","xDomainObject","_xmlHttpRequestObject","_xDomainRequestObject","_xhr","crossDomain","XMLHttpRequest","XDomainRequest","_xhrResp","xhr","options","wrapperFunction","getResponseHeader","response","datatype","responseText","responseXML","wrapperFunc","makeRequest","cors","timer","n","timeout","abort","timeoutFn","url","onreadystatechange","clearTimeout","status","res","e","error","statusText","success","complete","progress","getdata","constructor","queryString","buildQueryString","indexOf","jsonp","open","xhrFields","headers","j","setRequestHeader","console","log","postdata","send","postdatatype","stringify","buildFormData","path","values","successfnc","errorfnc","getJson","getJsonP","method","getScript","post","postJson","Content-Type","css","hasClass","classList","addClass","getAsArray","removeClass","toggleClass","cycleClass","getProperty","styleName","style","antiCamelCase","setProperty","properties","oldProperties","newStyleName","camelCase","defaultTransition","setTransitionSingle","transition","currentTransitionsArray","transitions","currentTransitions","transitionProperties","pos","substring","found","localeCompare","webkitTransition","msTransition","setTransition","show","opacity","hide","height","innerHeight","clientHeight","outerHeight","includeMargin","offsetHeight","marginTop","marginBottom","margins","Math","ceil","width","innerWidth","clientWidth","outerWidth","offsetWidth","marginLeft","marginRight","top","getBoundingClientRect","documentElement","scrollTop","body","left","scrollLeft","aboveTheTop","bottom","belowTheFold","leftOfScreen","right","rightOfScreen","inViewport","rect","docprop","propName","selectByClass","getElementsByClassName","selectByTag","getElementsByTagName","selectById","selectSingle","attr","oldAttributes","attributeName","datanames","oldDatanames","dataName","eventHistory","setEvent","setEventSingle","fncWrapper","unsetEvent","i1","length1","i2","length2","customEvent","createEvent","initEvent","create","html","frag","createDocumentFragment","temp","createElement","insertAdjacentHTML","firstChild","appendChild","elem","item2","append","createOption","key","isDefault","option","selectByValue","selectedIndex","clear","hasChildNodes","removeChild","insert","position","content","prepend","replaceText","textContent","cloneReturn","cloneAppend","cloneInsertAfter","cloneInsertBefore","clone","container","newElement","cloneNode","parentNode","insertBefore","nextSibling","parentElement","delegates","args","forms","ajaxForm","formobj","fncBegin","serializeFormData","isFormField","tagName","getFormFieldValue","disabled","files","checked","setFormFieldValue","toggleFormEditing","selected","lastDisabled","formdata","FormData","serialize","deserialize","uniqueId","getUniqueId","rfc3986","uri","regEx","encodeURIComponent","toString","substr","replaceAll","text","dictionary","match","flag","output","currChar","charAt","toLowerCase","quoteAttr","spliceString","count","slice","random","min","max","floor","iterator","context","some","list","column","shuffle","shuffled","rand","merge","tmp","duplicate","items","getLength","getKeysRecursive","delimiter","prefix","getElement","defaultValue","rest","timers","next","targetKey","currentItem","ontick","removeKeys","state","reset","setInterval","triggers","condition","conditions","ontrigger","triggerName","eventIdx","conditionKey","conditionObj","vars","cookiePath","getCookie","cookie","decodeURIComponent","setCookie","expires","expireValue","toGMTString","removeCookie","getLocal","localStorage","setLocal","removeLocal","getSession","sessionStorage","setSession","removeSession","anim","fx","interpolate","easing","cos","PI","newanim","startTime","unit","from","property","Number","onframe","setCss","timestamp","step","time","scrollTo","finishT","to","date","shortDateFormat","longDateFormat","timeFormat","monthsShort","monthsLong","strings","later","ago","seconds","aminute","minutes","ahour","hours","aday","days","aweek","weeks","amonth","months","ayear","years","parseEpoch","timespan","limitWithWeeks","getCustomDateString","getFullYear","getYear","getMonth","getDate","hour1","getHours","hour2","getMinutes","getSeconds","getDateDiffString","getTime","absTimespan","abs","past","timespanstring","getShortDateString","includeTime","getLongDateString","keyName","keycode","fromCharCode","assign","window","nodeType","disableInputs","shiftKey","ctrl","ctrlKey","alt","altKey","keyCode","which","mvc","apps","pauseUpdate","init","model","appKey","onupdate","update","rebind","app","modelKeys","_data","boundElements","eventElements","scanElements","ev","binding","bindStringParser","atts","m","binding1","binding2","chldrn","childNodes","boundElement","lastBuffer","buffer","curr","stack","depth","_depth","_top","configurable","newValue","oldValue","setRange","valueKey","getRange","exists","templates","engines","plain","compile","template","render","compiled","nextIndex","dict","lastIndex","closeIndex","hogan","Hogan","mustache","Mustache","handlebars","Handlebars","lodash","_","underscore","engine","touch","touchStarted","swipeTreshold","precision","tapCount","tapTreshold","longTapTreshold","tapTimer","end","move","locatePointer","targetTouches","pageX","pageY","onstart","innerEvent","x","y","onend","delta","distance","navigator","ui","floatContainer","popup","defaultTimeout","createBox","xclass","message","class","msgbox","loading","elementSelector","defaultDelay","killTimer","display","loadingIndicator","delay","dynamicDates","updateDatesElements","updateDates","getDateString","scrollView","selectedElements","onhidden","onreveal","reveal","createFloatContainer"],"mappings":"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","file":"assets/scripts/main.min.js","sourcesContent":["/**\n * eser-ozvataf-com - eser.ozvataf.com (main bundle)\n *\n * @version v1.0.0\n * @link http://eser.ozvataf.com/\n * @license Apache-2.0\n */\n(function(global) {\n    'use strict';\n\n    if (!('requestAnimationFrame' in global)) {\n        global.requestAnimationFrame = function(callback) {\n            setTimeout(function() { callback(Date.now()); }, 50);\n        };\n    }\n\n    if (!('getComputedStyle' in global)) {\n        global.getComputedStyle = function(element) {\n            this.element = element;\n\n            this.getPropertyValue = function(prop) {\n                var re = /(\\-([a-z]){1})/g;\n                if (prop == 'float') {\n                    prop = 'styleFloat';\n                }\n\n                if (re.test(prop)) {\n                    prop = prop.replace(re, function() {\n                        return arguments[2].toUpperCase();\n                    });\n                }\n\n                return this.element.currentStyle[prop] || null;\n            };\n\n            this.getPropertyCSSValue = function(prop) {\n                return new CSSPrimitiveValue(this.element, prop);\n            };\n\n            return this;\n        };\n    }\n\n    if (!('CSSPrimitiveValue' in global)) {\n        global.CSSPrimitiveValue = function(element, prop) {\n            this.element = element;\n            this.prop = prop;\n            this.primitiveType = 0;\n\n            this.getFloatValue = function(primitiveType) {\n                var re = /(\\-([a-z]){1})/g;\n                var prop = this.prop;\n                if (prop == 'float') {\n                    prop = 'styleFloat';\n                }\n\n                if (re.test(prop)) {\n                    prop = prop.replace(re, function() {\n                        return arguments[2].toUpperCase();\n                    });\n                }\n\n                return this.element.currentStyle[prop] || null;\n            };\n        };\n    }\n\n    if (!('preventDefault' in Event.prototype)) {\n        Event.prototype.preventDefault = function() {\n            this.returnValue = false;\n        };\n    }\n\n    if (!('stopPropagation' in Event.prototype)) {\n        Event.prototype.stopPropagation = function() {\n            this.cancelBubble = true;\n        };\n    }\n\n    if (Element === undefined) {\n        Element = function() {};\n    }\n\n    if (!('addEventListener' in Element.prototype)) {\n        var eventListeners = [];\n\n        var addListener = function(eventname, callback) {\n            var self = this;\n            var wrapper = function(event) {\n                event.target = event.srcElement;\n                event.currentTarget = self;\n\n                // if ('handleEvent' in callback) {\n                //     callback.handleEvent(event);\n                // } else {\n                //     callback.call(self, event);\n                // }\n                callback(self, event);\n            };\n\n            if (eventname != 'DOMContentLoaded') {\n                this.attachEvent('on' + eventname, wrapper);\n            }\n            eventListeners.push({object: this, type: eventname, listener: callback, wrapper: wrapper});\n        };\n\n        var removeListener = function(eventname, callback) {\n            for (var i = 0, length = eventListeners.length; i < length; i++) {\n                var eventListener = eventListeners[i];\n\n                if (eventListener.object === this && eventListener.type === eventname && eventListener.listener === callback) {\n                    if (eventname != 'DOMContentLoaded') {\n                        this.detachEvent('on' + eventname, eventListener.wrapper);\n                    }\n\n                    eventListeners.splice(i, 1);\n                    break;\n                }\n            }\n        };\n\n        var dispatchEvent = function(event) {\n            var eventObject = document.createEventObject();\n            this.fireEvent('on' + event.type, eventObject);\n        };\n\n        Element.prototype.addEventListener = addListener;\n        Element.prototype.removeEventListener = removeListener;\n        Element.prototype.dispatchEvent = dispatchEvent;\n\n        if (HTMLDocument !== undefined) {\n            HTMLDocument.prototype.addEventListener = addListener;\n            HTMLDocument.prototype.removeEventListener = removeListener;\n            HTMLDocument.prototype.dispatchEvent = dispatchEvent;\n        }\n\n        if (Window !== undefined) {\n            Window.prototype.addEventListener = addListener;\n            Window.prototype.removeEventListener = removeListener;\n            Window.prototype.dispatchEvent = dispatchEvent;\n        }\n\n        document.attachEvent('onreadystatechange', function() {\n            if (document.readyState == 'complete') {\n                var eventObject = document.createEventObject();\n                // eventObject.srcElement = window;\n\n                for (var i = 0, length = eventListeners.length; i < length; i++) {\n                    if (eventListeners[i].object === document && eventListeners[i].type === 'DOMContentLoaded') {\n                        eventListeners[i].wrapper(eventObject);\n                    }\n                }\n            }\n        });\n    }\n\n    if (!('textContent' in Element.prototype)) {\n        var innerText = Object.getOwnPropertyDescriptor(Element.prototype, 'innerText');\n\n        Object.defineProperty(Element.prototype, 'textContent', {\n            get: function() {\n                return innerText.get.call(this);\n            },\n            set: function(value) {\n                return innerText.set.call(this, value);\n            }\n        });\n    }\n\n    if (!('getAttribute' in Element.prototype)) {\n        Element.prototype.getAttribute = function(attribute) {\n            return this.attributes[attribute].value;\n        };\n    }\n\n    if (!('setAttribute' in Element.prototype)) {\n        Element.prototype.setAttribute = function(attribute, value) {\n            this.attributes[attribute].value = value;\n        };\n    }\n\n    if (!('removeAttribute' in Element.prototype)) {\n        Element.prototype.removeAttribute = function(attribute) {\n            this.attributes.removeNamedItem(attribute);\n        };\n    }\n\n    if (!('firstElementChild' in Element.prototype)) {\n        Object.defineProperty(Element.prototype, 'firstElementChild', {\n            get: function() {\n                return this.children[0];\n            }\n        });\n    }\n\n    if (!('classList' in Element.prototype)) {\n        Object.defineProperty(Element.prototype, 'classList', {\n            get: function() {\n                var self = this;\n\n                return {\n                    add: function(className) {\n                        self.className = self.className.trim() + ' ' + className;\n                    },\n\n                    remove: function(className) {\n                        self.className = self.className.replace(\n                            new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'),\n                            ' '\n                        );\n                    },\n\n                    contains: function(className) {\n                        return (new RegExp('(^| )' + className + '( |$)', 'gi').test(self.className));\n                    }\n                };\n            }\n        });\n    }\n\n    if (!('textContent' in Text.prototype)) {\n        var nodeValue = Object.getOwnPropertyDescriptor(Text.prototype, 'nodeValue');\n\n        Object.defineProperty(Text.prototype, 'textContent', {\n            get: function() {\n                return nodeValue.get.call(this);\n            },\n            set: function(value) {\n                return nodeValue.set.call(this, value);\n            }\n        });\n    }\n\n    if (!('trim' in String.prototype)) {\n        String.prototype.trim = function() {\n            return this.replace(/^\\s+|\\s+$/g, '');\n        };\n    }\n\n    if (!('observe' in Object)) {\n        Object.observe = function() {};\n    }\n\n    if (!('keys' in Object)) {\n        Object.keys = function(object) {\n            var keys = [];\n\n            for (var item in object) {\n                if (!object.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                keys.push(item);\n            }\n\n            return keys;\n        };\n    }\n\n    /*\n    if (!('forEach' in Object.prototype)) {\n        Object.prototype.forEach = function(callback) {\n            for (var item in this) {\n                if (!this.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                callback.apply(this, [this[item], item, this]);\n            }\n        };\n    }\n\n    if (!('map' in Object.prototype)) {\n        Object.prototype.map = function(callback) {\n            var results = [];\n\n            for (var item in this) {\n                if (!this.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                results.push(callback.apply(this, [this[item], item, this]));\n            }\n\n            return results;\n        };\n    }\n\n    if (!('forEach' in Array.prototype)) {\n        Array.prototype.forEach = function(callback) {\n            for (var i = 0; i < this.length; i++) {\n                callback.apply(this, [this[i], i, this]);\n            }\n        };\n    }\n\n    if (!('map' in Array.prototype)) {\n        Array.prototype.map = function(callback) {\n            var results = [];\n\n            for (var i = 0; i < this.length; i++) {\n                results.push(callback.apply(this, [this[i], i, this]));\n            }\n\n            return results;\n        };\n    }\n\n    if (!('indexOf' in Array.prototype)) {\n        Array.prototype.indexOf = function(object, start) {\n            for (var i = (start || 0), length = this.length; i < length; i++) {\n                if (this[i] === object) {\n                    return i;\n                }\n            }\n\n            return -1;\n        };\n    }\n    */\n\n})(this);\n;(function(global) {\n    'use strict';\n\n    // core\n    var laroux = function(selector, parent) {\n        if (selector instanceof Array) {\n            return laroux.helpers.toArray(\n                (parent || document).querySelectorAll(selector)\n            );\n        }\n\n        /*\n        // FIXME: non-chrome optimization\n        var re = /^#([^\\+\\>\\[\\]\\.# ]*)$/.exec(selector);\n        if (re) {\n            if (parent === undefined) {\n                return document.getElementById(re[1]);\n            }\n\n            return parent.getElementById(re[1]);\n        }\n        */\n\n        return (parent || document).querySelector(selector);\n    };\n\n    laroux.cached = {\n        single: {},\n        array: {},\n        id: {}\n    };\n\n    laroux.c = function(selector) {\n        if (selector instanceof Array) {\n            return laroux.cached.array[selector] || (\n                laroux.cached.array[selector] = laroux.helpers.toArray(\n                    document.querySelectorAll(selector)\n                )\n            );\n        }\n\n        return laroux.cached.single[selector] || (\n            laroux.cached.single[selector] = document.querySelector(selector)\n        );\n    };\n\n    laroux.id = function(selector, parent) {\n        return (parent || document).getElementById(selector);\n    };\n\n    laroux.idc = function(selector) {\n        return laroux.cached.id[selector] ||\n            (laroux.cached.id[selector] = document.getElementById(selector));\n    };\n\n    laroux.parent = global;\n    laroux.popupFunc = alert;\n    laroux.readyPassed = false;\n\n    laroux.ready = function(fnc) {\n        if (!laroux.readyPassed) {\n            laroux.events.add('ContentLoaded', fnc);\n            return;\n        }\n\n        fnc();\n    };\n\n    laroux.extend = function() {\n        Array.prototype.unshift.call(arguments, laroux);\n        laroux.extendObject.apply(this, arguments);\n    };\n\n    laroux.extendObject = function() {\n        var target = Array.prototype.shift.call(arguments),\n            isArray = target instanceof Array;\n\n        for (var item in arguments) {\n            for (var name in arguments[item]) {\n                // if (isArray) {\n                //     target.push(arguments[item][name]);\n                //     continue;\n                // }\n\n                /* target[name].constructor === Object */\n                if (target.hasOwnProperty(name) && target[name] instanceof Object) {\n                    laroux.extendObject(target[name], arguments[item][name]);\n                    continue;\n                }\n\n                target[name] = arguments[item][name];\n            }\n        }\n    };\n\n    laroux.each = function(arr, fnc, testOwnProperties) {\n        for (var item in arr) {\n            if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                continue;\n            }\n\n            if (fnc(item, arr[item]) === false) {\n                break;\n            }\n        }\n\n        return arr;\n    };\n\n    laroux.map = function(arr, fnc, dontSkipReturns, testOwnProperties) {\n        var results = [];\n\n        for (var item in arr) {\n            if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                continue;\n            }\n\n            var result = fnc(arr[item], item);\n            if (result === false) {\n                break;\n            }\n\n            if (!dontSkipReturns && result !== undefined) {\n                results.push(result);\n            }\n        }\n\n        return results;\n    };\n\n    laroux.index = function(arr, value, testOwnProperties) {\n        for (var item in arr) {\n            if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                continue;\n            }\n\n            if (arr[item] === object) {\n                return item;\n            }\n        }\n\n        return null;\n    };\n\n    laroux.aeach = function(arr, fnc) {\n        for (var i = 0, length = arr.length; i < length; i++) {\n            if (fnc(i, arr[i]) === false) {\n                break;\n            }\n        }\n\n        return arr;\n    };\n\n    laroux.amap = function(arr, fnc, dontSkipReturns) {\n        var results = [];\n\n        for (var i = 0, length = arr.length; i < length; i++) {\n            var result = fnc(arr[i], i);\n            if (result === false) {\n                break;\n            }\n\n            if (!dontSkipReturns && result !== undefined) {\n                results.unshift(result);\n            }\n        }\n\n        return results;\n    };\n\n    laroux.aindex = function(arr, value, start) {\n        for (var i = (start || 0), length = arr.length; i < length; i++) {\n            if (arr[i] === value) {\n                return i;\n            }\n        }\n\n        return -1;\n    };\n\n    // initialization\n    // if (typeof module !== 'undefined' && module.exports !== undefined) {\n    //     module.exports = laroux;\n    // } else {\n    //     global.$l = global.laroux = laroux;\n    // }\n    global.$l = global.laroux = laroux;\n\n    document.addEventListener(\n        'DOMContentLoaded',\n        function() {\n            if (!laroux.readyPassed) {\n                laroux.events.invoke('ContentLoaded');\n                laroux.readyPassed = true;\n            }\n        }\n    );\n\n})(this);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l.dom\n\n    // wrapper\n    laroux.wrapper = function(selector, parent) {\n        var selection;\n\n        if (selector instanceof Array) {\n            selection = selector;\n        } else if (selector instanceof NodeList) {\n            selection = laroux.helpers.toArray(selector);\n        } else if (selector instanceof Node) {\n            selection = [selector];\n        } else {\n            selection = laroux.dom.select(selector, parent);\n        }\n\n        if (selection.length === 1) {\n            return new laroux.wrapper.singleTemplate(selection[0]);\n        }\n\n        return new laroux.wrapper.arrayTemplate(selection);\n    };\n\n    laroux.wrapper.singleTemplate = function(element) {\n        this.source = element;\n        this.isArray = false;\n\n        this.get = function(index) {\n            if (index === 0 || index === undefined) {\n                return this.source;\n            }\n\n            return undefined;\n        };\n\n        this.find = function(selector) {\n            return laroux.wrapper(selector, this.source);\n        };\n    };\n\n    laroux.wrapper.arrayTemplate = function(elements) {\n        this.source = elements;\n        this.isArray = true;\n\n        this.get = function(index) {\n            return this.source[index];\n        };\n    };\n\n    laroux.wrapper.registerBoth = 0;\n    laroux.wrapper.registerSingle = 1;\n    laroux.wrapper.registerArray = 2;\n\n    laroux.wrapper.register = function(name, fnc, scope) {\n        var newFnc = function() {\n            var result = fnc.apply(\n                this,\n                [this.source].concat(laroux.helpers.toArray(arguments))\n            );\n\n            return (result === undefined) ? this : result;\n        };\n\n        switch (scope) {\n            case laroux.wrapper.registerSingle:\n                laroux.wrapper.singleTemplate.prototype[name] = newFnc;\n                break;\n            case laroux.wrapper.registerArray:\n                laroux.wrapper.arrayTemplate.prototype[name] = newFnc;\n                break;\n            default:\n                laroux.wrapper.singleTemplate.prototype[name] = newFnc;\n                laroux.wrapper.arrayTemplate.prototype[name] = newFnc;\n                break;\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l\n    // requires $l.events\n    // requires $l.helpers\n\n    // ajax - partially taken from 'jquery in parts' project\n    //        can be found at: https://github.com/mythz/jquip/\n    laroux.ajax = {\n        corsDefault: false,\n\n        wrappers: {\n            registry: {\n                'laroux.js': function(data) {\n                    if (!data.isSuccess) {\n                        laroux.popupFunc('Error: ' + data.errorMessage);\n                        return;\n                    }\n\n                    var obj;\n\n                    if (data.format == 'json') {\n                        obj = JSON.parse(data.object);\n                    } else if (data.format == 'script') {\n                        /* jshint evil:true */\n                        obj = eval(data.object);\n                    } else { // if (data.format == 'xml') {\n                        obj = data.object;\n                    }\n\n                    return obj;\n                }\n            },\n\n            set: function(name, fnc) {\n                laroux.ajax.wrappers.registry[name] = fnc;\n            }\n        },\n\n        xDomainObject: false,\n        _xmlHttpRequestObject: null,\n        _xDomainRequestObject: null,\n        _xhr: function(crossDomain) {\n            if (laroux.ajax._xmlHttpRequestObject === null) {\n                laroux.ajax._xmlHttpRequestObject = new XMLHttpRequest();\n            }\n\n            if (crossDomain) {\n                if (!('withCredentials' in laroux.ajax._xmlHttpRequestObject) && XDomainRequest !== undefined) {\n                    laroux.ajax.xDomainObject = true;\n\n                    if (laroux.ajax._xDomainRequestObject === null) {\n                        laroux.ajax._xDomainRequestObject = new XDomainRequest();\n                    }\n\n                    return laroux.ajax._xDomainRequestObject;\n                }\n            } else {\n                laroux.ajax.xDomainObject = false;\n            }\n\n            return laroux.ajax._xmlHttpRequestObject;\n        },\n\n        _xhrResp: function(xhr, options) {\n            var wrapperFunction = xhr.getResponseHeader('X-Response-Wrapper-Function');\n            var response;\n\n            if (options.datatype === undefined) {\n                response = xhr.responseText;\n            } else if (options.datatype == 'json') {\n                response = JSON.parse(xhr.responseText);\n            } else if (options.datatype == 'script') {\n                /* jshint evil:true */\n                response = eval(xhr.responseText);\n            } else if (options.datatype == 'xml') {\n                response = xhr.responseXML;\n            } else {\n                response = xhr.responseText;\n            }\n\n            if (wrapperFunction && (wrapperFunction in laroux.ajax.wrappers.registry)) {\n                response = laroux.ajax.wrappers.registry[wrapperFunction](response);\n            }\n\n            return {\n                'response': response,\n                'wrapperFunc': wrapperFunction\n            };\n        },\n\n        makeRequest: function(options) {\n            var cors = options.cors || laroux.ajax.corsDefault,\n                xhr = laroux.ajax._xhr(cors),\n                timer = null,\n                n = 0;\n\n            if (options.timeout !== undefined) {\n                timer = setTimeout(\n                    function() {\n                        xhr.abort();\n                        if (options.timeoutFn !== undefined) {\n                            options.timeoutFn(options.url);\n                        }\n                    },\n                    options.timeout\n                );\n            }\n\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState == 4) {\n                    if (timer !== null) {\n                        clearTimeout(timer);\n                    }\n\n                    if (xhr.status < 300) {\n                        var res = null;\n                        var isSuccess = true;\n\n                        try {\n                            res = laroux.ajax._xhrResp(xhr, options);\n                        } catch (e) {\n                            if (options.error !== undefined) {\n                                options.error(xhr, xhr.status, xhr.statusText);\n                            }\n\n                            laroux.events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                            isSuccess = false;\n                        }\n\n                        if (isSuccess) {\n                            if (options.success !== undefined && res !== null) {\n                                options.success(res.response, res.wrapperFunc);\n                            }\n\n                            laroux.events.invoke('ajaxSuccess', [xhr, res.response, res.wrapperFunc, options]);\n                        }\n                    } else {\n                        if (options.error !== undefined) {\n                            options.error(xhr, xhr.status, xhr.statusText);\n                        }\n\n                        laroux.events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                    }\n\n                    if (options.complete !== undefined) {\n                        options.complete(xhr, xhr.statusText);\n                    }\n\n                    laroux.events.invoke('ajaxComplete', [xhr, xhr.statusText, options]);\n                } else if (options.progress !== undefined) {\n                    options.progress(++n);\n                }\n            };\n\n            var url = options.url;\n            if (options.getdata !== undefined && options.getdata !== null) {\n                if (options.getdata.constructor === Object) {\n                    var queryString = laroux.helpers.buildQueryString(options.getdata);\n                    if (queryString.length > 0) {\n                        url += ((url.indexOf('?') < 0) ? '?' : '&') + queryString;\n                    }\n                } else {\n                    url += ((url.indexOf('?') < 0) ? '?' : '&') + options.getdata;\n                }\n            }\n\n            if (options.jsonp !== undefined) {\n                url += ((url.indexOf('?') < 0) ? '?' : '&') + 'jsonp=' + options.jsonp;\n            }\n\n            if (!laroux.ajax.xDomainObject) {\n                xhr.open(options.type, url, true);\n            } else {\n                xhr.open(options.type, url);\n            }\n\n            try {\n                if (options.xhrFields !== undefined) {\n                    for (var i in options.xhrFields) {\n                        if (!options.xhrFields.hasOwnProperty(i)) {\n                            continue;\n                        }\n\n                        xhr[i] = options.xhrFields[i];\n                    }\n                }\n\n                var headers = options.headers || {};\n\n                if (!cors) {\n                    headers['X-Requested-With'] = 'XMLHttpRequest';\n\n                    if (options.wrapper) {\n                        headers['X-Wrapper-Function'] = 'laroux.js';\n                    }\n                }\n\n                for (var j in headers) {\n                    if (!headers.hasOwnProperty(j)) {\n                        continue;\n                    }\n\n                    xhr.setRequestHeader(j, headers[j]);\n                }\n            } catch(e) {\n                console.log(e);\n            }\n\n            if (options.postdata === undefined || options.postdata === null) {\n                xhr.send(null);\n                return;\n            }\n\n            switch (options.postdatatype) {\n                case 'json':\n                    xhr.send(JSON.stringify(options.postdata));\n                    break;\n                case 'form':\n                    xhr.send(laroux.helpers.buildFormData(options.postdata));\n                    break;\n                default:\n                    xhr.send(options.postdata);\n                    break;\n            }\n        },\n\n        get: function(path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'html',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJson: function(path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'json',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJsonP: function(path, values, method, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                jsonp: method,\n                wrapper: false,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getScript: function(path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                wrapper: false,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        post: function(path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'form',\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        postJson: function(path, values, successfnc, errorfnc, cors) {\n            laroux.ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'json',\n                headers: {\n                    'Content-Type': 'application/json; charset=UTF-8'\n                },\n                wrapper: true,\n                cors: cors || laroux.ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l.helpers\n    // requires $l.dom\n\n    // css\n    laroux.css = {\n        // class features\n        hasClass: function(element, className) {\n            return element.classList.contains(className);\n        },\n\n        addClass: function(element, className) {\n            var elements = laroux.helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                elements[i].classList.add(className);\n            }\n        },\n\n        removeClass: function(element, className) {\n            var elements = laroux.helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                elements[i].classList.remove(className);\n            }\n        },\n\n        toggleClass: function(element, className) {\n            var elements = laroux.helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                if (elements[i].classList.contains(className)) {\n                    elements[i].classList.remove(className);\n                } else {\n                    elements[i].classList.add(className);\n                }\n            }\n        },\n\n        cycleClass: function(elements, className) {\n            for (var i = 0, length = elements.length; i < length; i++) {\n                if (elements[i].classList.contains(className)) {\n                    elements[i].classList.remove(className);\n                    elements[(i + 1) % length].classList.add(className);\n                    return;\n                }\n            }\n        },\n\n        // style features\n        getProperty: function(element, styleName) {\n            var style = getComputedStyle(element);\n\n            styleName = laroux.helpers.antiCamelCase(styleName);\n\n            return style.getPropertyValue(styleName);\n        },\n\n        setProperty: function(element, properties, value) {\n            var elements = laroux.helpers.getAsArray(element);\n\n            if (typeof properties == 'string') {\n                var oldProperties = properties;\n                properties = {};\n                properties[oldProperties] = value;\n            }\n\n            for (var styleName in properties) {\n                if (!properties.hasOwnProperty(styleName)) {\n                    continue;\n                }\n\n                var newStyleName = laroux.helpers.camelCase(styleName);\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    elements[i].style[newStyleName] = properties[styleName];\n                }\n            }\n        },\n\n        // transition features\n        defaultTransition: '2s ease',\n\n        setTransitionSingle: function(element, transition) {\n            var transitions = laroux.helpers.getAsArray(transition),\n                style = getComputedStyle(element),\n                currentTransitions = style.getPropertyValue('transition') || style.getPropertyValue('-webkit-transition') ||\n                    style.getPropertyValue('-ms-transition') || '',\n                currentTransitionsArray;\n\n            if (currentTransitions.length > 0) {\n                currentTransitionsArray = currentTransitions.split(',');\n            } else {\n                currentTransitionsArray = [];\n            }\n\n            for (var item in transitions) {\n                if (!transitions.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var styleName,\n                    transitionProperties,\n                    pos = transitions[item].indexOf(' ');\n\n                if (pos !== -1) {\n                    styleName = transitions[item].substring(0, pos);\n                    transitionProperties = transitions[item].substring(pos + 1);\n                } else {\n                    styleName = transitions[item];\n                    transitionProperties = laroux.css.defaultTransition;\n                }\n\n                var found = false;\n                for (var j = 0; j < currentTransitionsArray.length; j++) {\n                    if (currentTransitionsArray[j].trim().localeCompare(styleName) === 0) {\n                        currentTransitionsArray[j] = styleName + ' ' + transitionProperties;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    currentTransitionsArray.push(styleName + ' ' + transitionProperties);\n                }\n            }\n\n            var value = currentTransitionsArray.join(', ');\n\n            element.style.transition = value;\n            element.style.webkitTransition = value;\n            element.style.msTransition = value;\n        },\n\n        setTransition: function(element, transition) {\n            var elements = laroux.helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                laroux.css.setTransitionSingle(elements[i], transition);\n            }\n        },\n\n        show: function(element, transitionProperties) {\n            if (transitionProperties !== undefined) {\n                laroux.css.setTransition(element, 'opacity ' + transitionProperties);\n            } else {\n                laroux.css.setTransition(element, 'opacity');\n            }\n\n            laroux.css.setProperty(element, {opacity: 1});\n        },\n\n        hide: function(element, transitionProperties) {\n            if (transitionProperties !== undefined) {\n                laroux.css.setTransition(element, 'opacity ' + transitionProperties);\n            } else {\n                laroux.css.setTransition(element, 'opacity');\n            }\n\n            laroux.css.setProperty(element, {opacity: 0});\n        },\n\n        // measurement features\n        // height of element without padding, margin and border\n        height: function(element) {\n            var style = getComputedStyle(element),\n                height = style.getPropertyCSSValue('height');\n\n            return height.getFloatValue(height.primitiveType);\n        },\n\n        // height of element with padding but without margin and border\n        innerHeight: function(element) {\n            return element.clientHeight;\n        },\n\n        // height of element with padding and border but margin optional\n        outerHeight: function(element, includeMargin) {\n            if (includeMargin || false) {\n                return element.offsetHeight;\n            }\n\n            var style = getComputedStyle(element),\n                marginTop = style.getPropertyCSSValue('margin-top'),\n                marginBottom = style.getPropertyCSSValue('margin-bottom'),\n                margins = marginTop.getFloatValue(marginTop.primitiveType) +\n                    marginBottom.getFloatValue(marginBottom.primitiveType);\n\n            return Math.ceil(element.offsetHeight + margins);\n        },\n\n        // width of element without padding, margin and border\n        width: function(element) {\n            var style = getComputedStyle(element),\n                height = style.getPropertyCSSValue('width');\n\n            return height.getFloatValue(height.primitiveType);\n        },\n\n        // width of element with padding but without margin and border\n        innerWidth: function(element) {\n            return element.clientWidth;\n        },\n\n        // width of element with padding and border but margin optional\n        outerWidth: function(element, includeMargin) {\n            if (includeMargin || false) {\n                return element.offsetWidth;\n            }\n\n            var style = getComputedStyle(element),\n                marginLeft = style.getPropertyCSSValue('margin-left'),\n                marginRight = style.getPropertyCSSValue('margin-right'),\n                margins = marginLeft.getFloatValue(marginLeft.primitiveType) +\n                    marginRight.getFloatValue(marginRight.primitiveType);\n\n            return Math.ceil(element.offsetWidth + margins);\n        },\n\n        top: function(element) {\n            return element.getBoundingClientRect().top +\n                ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop);\n        },\n\n        left: function(element) {\n            return element.getBoundingClientRect().left +\n                ((document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft);\n        },\n\n        aboveTheTop: function(element) {\n            return element.getBoundingClientRect().bottom <= 0;\n        },\n\n        belowTheFold: function(element) {\n            return element.getBoundingClientRect().top > laroux.parent.innerHeight;\n        },\n\n        leftOfScreen: function(element) {\n            return element.getBoundingClientRect().right <= 0;\n        },\n\n        rightOfScreen: function(element) {\n            return element.getBoundingClientRect().left > laroux.parent.innerWidth;\n        },\n\n        inViewport: function(element) {\n            var rect = element.getBoundingClientRect();\n\n            return !(rect.bottom <= 0 || rect.top > laroux.parent.innerHeight ||\n                rect.right <= 0 || rect.left > laroux.parent.innerWidth);\n        }\n    };\n\n    // wrapper support\n    if (laroux.wrapper !== undefined) {\n        laroux.wrapper.register('hasClass', laroux.css.hasClass, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('addClass', laroux.css.addClass, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('removeClass', laroux.css.removeClass, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('toggleClass', laroux.css.toggleClass, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('getProperty', laroux.css.getProperty, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('setProperty', laroux.css.setProperty, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('setTransition', laroux.css.setTransition, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('show', laroux.css.show, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('hide', laroux.css.hide, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('height', laroux.css.height, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('innerHeight', laroux.css.innerHeight, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('outerHeight', laroux.css.outerHeight, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('width', laroux.css.width, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('innerWidth', laroux.css.innerWidth, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('outerWidth', laroux.css.outerWidth, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('top', laroux.css.top, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('left', laroux.css.left, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('aboveTheTop', laroux.css.aboveTheTop, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('belowTheFold', laroux.css.belowTheFold, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('leftOfScreen', laroux.css.leftOfScreen, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('rightOfScreen', laroux.css.rightOfScreen, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('inViewport', laroux.css.inViewport, laroux.wrapper.registerSingle);\n    }\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l.helpers\n    // requires $l.triggers\n\n    // dom\n    laroux.dom = {\n        docprop: function(propName) {\n            return document.documentElement.classList.contains(propName);\n        },\n\n        select: function(selector, parent) {\n            return laroux.helpers.toArray(\n                (parent || document).querySelectorAll(selector)\n            );\n        },\n\n        selectByClass: function(selector, parent) {\n            return laroux.helpers.toArray(\n                (parent || document).getElementsByClassName(selector)\n            );\n        },\n\n        selectByTag: function(selector, parent) {\n            return laroux.helpers.toArray(\n                (parent || document).getElementsByTagName(selector)\n            );\n        },\n\n        selectById: function(selector, parent) {\n            return (parent || document).getElementById(selector);\n        },\n\n        selectSingle: function(selector, parent) {\n            return (parent || document).querySelector(selector);\n        },\n\n        attr: function(element, attributes, value) {\n            if (value === undefined && attributes.constructor !== Object) {\n                return element.getAttribute(attributes);\n            }\n\n            var elements = laroux.helpers.getAsArray(element);\n            if (typeof attributes == 'string') {\n                var oldAttributes = attributes;\n                attributes = {};\n                attributes[oldAttributes] = value;\n            }\n\n            for (var attributeName in attributes) {\n                if (!attributes.hasOwnProperty(attributeName)) {\n                    continue;\n                }\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    if (attributes[attributeName] === null) {\n                        element.removeAttribute(attributeName);\n                    } else {\n                        element.setAttribute(attributeName, attributes[attributeName]);\n                    }\n                }\n            }\n        },\n\n        data: function(element, datanames, value) {\n            if (value === undefined && datanames.constructor !== Object) {\n                return element.getAttribute('data-' + datanames);\n            }\n\n            var elements = laroux.helpers.getAsArray(element);\n            if (typeof datanames == 'string') {\n                var oldDatanames = datanames;\n                datanames = {};\n                datanames[oldDatanames] = value;\n            }\n\n            for (var dataName in datanames) {\n                if (!datanames.hasOwnProperty(dataName)) {\n                    continue;\n                }\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    if (datanames[dataName] === null) {\n                        element.removeAttribute('data-' + dataName);\n                    } else {\n                        element.setAttribute('data-' + dataName, datanames[dataName]);\n                    }\n                }\n            }\n        },\n\n        eventHistory: [],\n        setEvent: function(element, eventname, fnc) {\n            var elements = laroux.helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                laroux.dom.setEventSingle(elements[i], eventname, fnc);\n            }\n        },\n\n        setEventSingle: function(element, eventname, fnc) {\n            var fncWrapper = function(e) {\n                if (fnc(e, element) === false) {\n                    if (e.preventDefault) {\n                        e.preventDefault();\n                    } else {\n                        laroux.parent.event.returnValue = false;\n                    }\n                }\n            };\n\n            laroux.dom.eventHistory.push({element: element, eventname: eventname, fnc: fnc, fncWrapper: fncWrapper});\n            element.addEventListener(eventname, fncWrapper, false);\n        },\n\n        unsetEvent: function(element, eventname, fnc) {\n            var elements = laroux.helpers.getAsArray(element);\n\n            for (var i1 = 0, length1 = elements.length; i1 < length1; i1++) {\n                for (var i2 = 0, length2 = laroux.dom.eventHistory.length; i2 < length2; i2++) {\n                    var item = laroux.dom.eventHistory[i2];\n\n                    if (item === undefined) {\n                        continue;\n                    }\n\n                    if (item.element !== elements[i1]) {\n                        continue;\n                    }\n\n                    if (eventname !== undefined && item.eventname !== eventname) {\n                        continue;\n                    }\n\n                    if (fnc !== undefined && item.fnc !== fnc) {\n                        continue;\n                    }\n\n                    item.element.removeEventListener(item.eventname, item.fncWrapper, false);\n                    delete laroux.dom.eventHistory[i2];\n                }\n            }\n        },\n\n        dispatchEvent: function(element, eventname, data) {\n            var customEvent = document.createEvent('Event');\n            for (var item in data) {\n                if (!data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                customEvent[item] = data[item];\n            }\n\n            customEvent.initEvent(eventname, true, true);\n            element.dispatchEvent(customEvent);\n        },\n\n        create: function(html) {\n            var frag = document.createDocumentFragment(),\n                temp = document.createElement('DIV');\n\n            temp.insertAdjacentHTML('beforeend', html);\n            while (temp.firstChild) {\n                frag.appendChild(temp.firstChild);\n            }\n\n            // nulling out the reference, there is no obvious dispose method\n            temp = null;\n\n            return frag;\n        },\n\n        createElement: function(element, attributes, children) {\n            var elem = document.createElement(element);\n\n            if (attributes !== undefined && attributes.constructor === Object) {\n                for (var item in attributes) {\n                    if (!attributes.hasOwnProperty(item)) {\n                        continue;\n                    }\n\n                    elem.setAttribute(item, attributes[item]);\n                }\n            }\n\n            if (children !== undefined) {\n                if (children.constructor === Object) {\n                    for (var item2 in children) {\n                        if (!children.hasOwnProperty(item2)) {\n                            continue;\n                        }\n\n                        elem.setAttribute(item2, children[item2]);\n                    }\n                } else if (/* typeof children == 'string' && */children.length > 0) {\n                    laroux.dom.append(elem, children);\n                }\n            }\n\n            return elem;\n        },\n\n        createOption: function(element, key, value, isDefault) {\n            /* old behaviour, does not support optgroups as parents.\n            var count = element.options.length;\n            element.options[count] = new Option(value, key);\n\n            if (isDefault === true) {\n                element.options.selectedIndex = count - 1;\n            }\n            */\n\n            var option = document.createElement('OPTION');\n            option.setAttribute('value', key);\n            if (isDefault === true) {\n                option.setAttribute('checked', 'checked');\n            }\n\n            laroux.dom.append(option, value);\n            element.appendChild(option);\n        },\n\n        selectByValue: function(element, value) {\n            for (var i = 0, length = element.options.length; i < length; i++) {\n                if (element.options[i].getAttribute('value') == value) {\n                    element.selectedIndex = i;\n                    break;\n                }\n            }\n        },/*,\n\n        // TODO: it's redundant for now\n        loadImage: function() {\n            var images = [];\n\n            for (var i = 0, length = arguments.length; i < length; i++) {\n                var image = document.createElement('IMG');\n                image.setAttribute('src', arguments[i]);\n\n                images.push(image);\n            }\n\n            return images;\n        },\n\n        loadAsyncScript: function(path, triggerName, async) {\n            var elem = document.createElement('script');\n\n            elem.type = 'text/javascript';\n            elem.async = (async !== undefined) ? async : true;\n            elem.src = path;\n\n            var loaded = false;\n            elem.onload = elem.onreadystatechange = function() {\n                if ((elem.readyState && elem.readyState !== 'complete' && elem.readyState !== 'loaded') || loaded) {\n                    return false;\n                }\n\n                elem.onload = elem.onreadystatechange = null;\n                loaded = true;\n                if (triggerName) {\n                    if (typeof triggerName == 'function') {\n                        triggerName();\n                    } else {\n                        laroux.triggers.ontrigger(triggerName);\n                    }\n                }\n            };\n\n            var head = document.getElementsByTagName('head')[0];\n            head.appendChild(elem);\n        },\n\n        loadAsyncStyle: function(path, triggerName, async) {\n            var elem = document.createElement('LINK');\n\n            elem.type = 'text/css';\n            elem.async = (async !== undefined) ? async : true;\n            elem.href = path;\n            elem.rel = 'stylesheet';\n\n            var loaded = false;\n            elem.onload = elem.onreadystatechange = function() {\n                if ((elem.readyState && elem.readyState !== 'complete' && elem.readyState !== 'loaded') || loaded) {\n                    return false;\n                }\n\n                elem.onload = elem.onreadystatechange = null;\n                loaded = true;\n                if (triggerName) {\n                    if (typeof triggerName == 'function') {\n                        triggerName();\n                    } else {\n                        laroux.triggers.ontrigger(triggerName);\n                    }\n                }\n            };\n\n            var head = document.getElementsByTagName('head')[0];\n            head.appendChild(elem);\n        },*/\n\n        clear: function(element) {\n            while (element.hasChildNodes()) {\n                element.removeChild(element.firstChild);\n            }\n        },\n\n        insert: function(element, position, content) {\n            element.insertAdjacentHTML(position, content);\n        },\n\n        prepend: function(element, content) {\n            element.insertAdjacentHTML('afterbegin', content);\n        },\n\n        append: function(element, content) {\n            element.insertAdjacentHTML('beforeend', content);\n        },\n\n        replace: function(element, content) {\n            laroux.dom.clear(element);\n            element.insertAdjacentHTML('afterbegin', content);\n        },\n\n        replaceText: function(element, content) {\n            // laroux.dom.clear(element);\n            element.textContent = content;\n        },\n\n        remove: function(element) {\n            element.remove();\n        },\n\n        cloneReturn: 0,\n        cloneAppend: 1,\n        cloneInsertAfter: 2,\n        cloneInsertBefore: 3,\n\n        clone: function(element, type, container, target) {\n            var newElement = element.cloneNode(true);\n\n            if (container === undefined) {\n                container = element.parentNode;\n            }\n            if (target === undefined) {\n                target = element;\n            }\n\n            if (type !== undefined && type != laroux.dom.cloneReturn) {\n                if (type == laroux.dom.cloneAppend) {\n                    container.appendChild(newElement);\n                } else if (type == laroux.dom.cloneInsertAfter) {\n                    container.insertBefore(newElement, target.nextSibling);\n                } else { // type == laroux.dom.cloneInsertBefore\n                    container.insertBefore(newElement, target);\n                }\n            }\n\n            return newElement;\n        }/*,\n\n        // TODO: it's redundant for now\n        applyOperations: function(element, operations) {\n            for (var operation in operations) {\n                if (!operations.hasOwnProperty(operation)) {\n                    continue;\n                }\n\n                for (var binding in operations[operation]) {\n                    if (!operations[operation].hasOwnProperty(binding)) {\n                        continue;\n                    }\n\n                    var value = operations[operation][binding];\n\n                    switch (operation) {\n                        case 'setprop':\n                            if (binding.substring(0, 1) == '_') {\n                                element.setAttribute(binding.substring(1), value);\n                                continue;\n                            }\n\n                            if (binding == 'content') {\n                                laroux.dom.replace(element, value);\n                                continue;\n                            }\n                            break;\n                        case 'addprop':\n                            if (binding.substring(0, 1) == '_') {\n                                element.setAttribute(binding.substring(1), element.getAttribute(binding.substring(1)) + value);\n                                continue;\n                            }\n\n                            if (binding == 'content') {\n                                laroux.dom.append(element, value);\n                                continue;\n                            }\n                            break;\n                        case 'removeprop':\n                            if (value.substring(0, 1) == '_') {\n                                element.removeAttribute(value.substring(1));\n                                continue;\n                            }\n\n                            if (value == 'content') {\n                                laroux.dom.clear(element);\n                                continue;\n                            }\n                            break;\n                        case 'addclass':\n                            laroux.css.addClass(element, value);\n                            break;\n                        case 'removeclass':\n                            laroux.css.removeClass(element, value);\n                            break;\n                        case 'addstyle':\n                            laroux.css.setProperty(element, binding, value);\n                            break;\n                        case 'removestyle':\n                            laroux.css.setProperty(element, value, 'inherit !important');\n                            break;\n                        case 'repeat':\n                            break;\n                        default:\n                            console.log(operation);\n                    }\n                }\n            }\n        }*/\n    };\n\n    // wrapper support\n    if (laroux.wrapper !== undefined) {\n        laroux.wrapper.register('attr', laroux.dom.attr, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('data', laroux.dom.data, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('on', laroux.dom.setEventSingle, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('on', laroux.dom.setEvent, laroux.wrapper.registerArray);\n        laroux.wrapper.register('off', laroux.dom.unsetEvent, laroux.wrapper.registerBoth);\n        laroux.wrapper.register('clear', laroux.dom.clear, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('insert', laroux.dom.insert, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('prepend', laroux.dom.prepend, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('append', laroux.dom.append, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('replace', laroux.dom.replace, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('replaceText', laroux.dom.replaceText, laroux.wrapper.registerSingle);\n        laroux.wrapper.register('remove', laroux.dom.remove, laroux.wrapper.registerSingle);\n    }\n\n    // a fix for Internet Explorer\n    if (Element.prototype.remove === undefined) {\n        Element.prototype.remove = function() {\n            if (this.parentElement !== null) {\n                this.parentElement.removeChild(this);\n            }\n        };\n    }\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // events\n    laroux.events = {\n        delegates: [],\n\n        add: function(event, fnc) {\n            laroux.events.delegates.push({event: event, fnc: fnc});\n        },\n\n        invoke: function(event, args) {\n            for (var item in laroux.events.delegates) {\n                if (!laroux.events.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux.events.delegates[item].event != event) {\n                    continue;\n                }\n\n                laroux.events.delegates[item].fnc(args);\n            }\n        },\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // forms\n    laroux.forms = {\n        ajaxForm: function(formobj, fnc, fncBegin) {\n            laroux.dom.setEvent(formobj, 'submit', function() {\n                if (fncBegin !== undefined) {\n                    fncBegin();\n                }\n\n                laroux.ajax.post(\n                    formobj.getAttribute('action'),\n                    laroux.forms.serializeFormData(formobj),\n                    fnc\n                );\n\n                return false;\n            });\n        },\n\n        isFormField: function(element) {\n            if (element.tagName == 'SELECT') {\n                return true;\n            }\n\n            if (element.tagName == 'INPUT') {\n                var type = element.getAttribute('type').toUpperCase();\n\n                if (type == 'FILE' || type == 'CHECKBOX' || type == 'RADIO' || type == 'TEXT' || type == 'PASSWORD' || type == 'HIDDEN') {\n                    return true;\n                }\n\n                return false;\n            }\n\n            if (element.tagName == 'TEXTAREA') {\n                return true;\n            }\n\n            return false;\n        },\n\n        getFormFieldValue: function(element) {\n            if (element.disabled === true) {\n                return null;\n            }\n\n            if (element.tagName == 'SELECT') {\n                return element.options[element.selectedIndex].value;\n            }\n\n            if (element.tagName == 'INPUT') {\n                var type = element.getAttribute('type').toUpperCase();\n\n                if (type == 'FILE') {\n                    return element.files[0];\n                }\n\n                if (type == 'CHECKBOX' || type == 'RADIO') {\n                    if (element.checked) {\n                        return element.value;\n                    }\n\n                    return null;\n                }\n\n                if (type == 'TEXT' || type == 'PASSWORD' || type == 'HIDDEN') {\n                    return element.value;\n                }\n\n                return null;\n            }\n\n            if (element.tagName == 'TEXTAREA') {\n                return element.value;\n            }\n\n            return null;\n        },\n\n        setFormFieldValue: function(element, value) {\n            if (element.disabled === true) {\n                return;\n            }\n\n            if (element.tagName == 'SELECT') {\n                for (var option in element.options) {\n                    if (!element.options.hasOwnProperty(option)) {\n                        continue;\n                    }\n\n                    if (element.options[option].value == value) {\n                        element.selectedIndex = option;\n                        return;\n                    }\n                }\n\n                return;\n            }\n\n            if (element.tagName == 'INPUT') {\n                var type = element.getAttribute('type').toUpperCase();\n\n                if (type == 'FILE') {\n                    element.files[0] = value;\n                    return;\n                }\n\n                if (type == 'CHECKBOX' || type == 'RADIO') {\n                    if (value === true || value == element.value) {\n                        element.checked = true;\n                    }\n\n                    return;\n                }\n\n                if (type == 'TEXT' || type == 'PASSWORD' || type == 'HIDDEN') {\n                    element.value = value;\n                    return;\n                }\n\n                return;\n            }\n\n            if (element.tagName == 'TEXTAREA') {\n                element.value = value;\n                return;\n            }\n        },\n\n        toggleFormEditing: function(formobj, value) {\n            var selection = formobj.querySelectorAll('*[name]');\n\n            if (value === undefined) {\n                if (formobj.getAttribute('data-last-enabled') === null) {\n                    formobj.setAttribute('data-last-enabled', 'enabled');\n                    value = false;\n                } else {\n                    formobj.removeAttribute('data-last-enabled');\n                    value = true;\n                }\n            }\n\n            for (var selected = 0, length = selection.length; selected < length; selected++) {\n                if (!laroux.forms.isFormField(selection[selected])) {\n                    continue;\n                }\n\n                var lastDisabled = selection[selected].getAttribute('data-last-disabled');\n                if (!value) {\n                    if (lastDisabled === null) {\n                        if (selection[selected].getAttribute('disabled') !== null) {\n                            selection[selected].setAttribute('data-last-disabled', 'disabled');\n                        }\n                    }\n\n                    selection[selected].setAttribute('disabled', 'disabled');\n                    continue;\n                }\n\n                if (lastDisabled !== null) {\n                    selection[selected].removeAttribute('data-last-disabled');\n                } else {\n                    selection[selected].removeAttribute('disabled');\n                }\n            }\n        },\n\n        serializeFormData: function(formobj) {\n            var formdata = new FormData();\n            var selection = formobj.querySelectorAll('*[name]');\n\n            for (var selected = 0, length = selection.length; selected < length; selected++) {\n                var value = laroux.forms.getFormFieldValue(selection[selected]);\n\n                if (value !== null) {\n                    formdata.append(selection[selected].getAttribute('name'), value);\n                }\n            }\n\n            return formdata;\n        },\n\n        serialize: function(formobj) {\n            var values = {};\n            var selection = formobj.querySelectorAll('*[name]');\n\n            for (var selected = 0, length = selection.length; selected < length; selected++) {\n                var value = laroux.forms.getFormFieldValue(selection[selected]);\n\n                if (value !== null) {\n                    values[selection[selected].getAttribute('name')] = value;\n                }\n            }\n\n            return values;\n        },\n\n        deserialize: function(formobj, data) {\n            var selection = formobj.querySelectorAll('*[name]');\n\n            for (var selected = 0, length = selection.length; selected < length; selected++) {\n                laroux.forms.setFormFieldValue(selection[selected], data[selection[selected].getAttribute('name')]);\n            }\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // helpers\n    laroux.helpers = {\n        uniqueId: 0,\n\n        getUniqueId: function() {\n            return 'uid-' + (++laroux.helpers.uniqueId);\n        },\n\n        buildQueryString: function(values, rfc3986) {\n            var uri = '';\n            var regEx = /%20/g;\n\n            for (var name in values) {\n                if (!values.hasOwnProperty(name)) {\n                    continue;\n                }\n\n                if (typeof values[name] != 'function') {\n                    if (rfc3986 || false) {\n                        uri += '&' + encodeURIComponent(name).replace(regEx, '+') + '=' + encodeURIComponent(values[name].toString()).replace(regEx, '+');\n                    } else {\n                        uri += '&' + encodeURIComponent(name) + '=' + encodeURIComponent(values[name].toString());\n                    }\n                }\n            }\n\n            return uri.substr(1);\n        },\n\n        buildFormData: function(values) {\n            var data = new FormData();\n\n            for (var name in values) {\n                if (!values.hasOwnProperty(name)) {\n                    continue;\n                }\n\n                if (typeof values[name] != 'function') {\n                    data.append(name, values[name]);\n                }\n            }\n\n            return data;\n        },\n\n        format: function() {\n            var args = arguments;\n            return Array.prototype.shift.call(args).replace(/%s/g, function() { return Array.prototype.shift.call(args); });\n        },\n\n        replaceAll: function(text, dictionary) {\n            var re = new RegExp(Object.keys(dictionary).join('|'), 'g');\n\n            return text.replace(\n                re,\n                function(match) {\n                    return dictionary[match];\n                }\n            );\n        },\n\n        camelCase: function(value) {\n            var flag = false;\n            var output = '';\n\n            for (var j = 0; j < value.length; j++) {\n                var currChar = value.charAt(j);\n                if (currChar == '-') {\n                    flag = true;\n                    continue;\n                }\n\n                output += (!flag) ? currChar : currChar.toUpperCase();\n                flag = false;\n            }\n\n            return output;\n        },\n\n        antiCamelCase: function(value) {\n            var output = '';\n\n            for (var j = 0; j < value.length; j++) {\n                var currChar = value.charAt(j);\n                if (currChar != '-' && currChar == currChar.toUpperCase()) {\n                    output += '-' + currChar.toLowerCase();\n                    continue;\n                }\n\n                output += currChar;\n            }\n\n            return output;\n        },\n\n        quoteAttr: function(value) {\n            return value.replace(/&/g, '&amp;')\n                        .replace(/'/g, '&apos;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/</g, '&lt;')\n                        .replace(/>/g, '&gt;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/\\r\\n/g, '&#13;')\n                        .replace(/[\\r\\n]/g, '&#13;');\n        },\n\n        spliceString: function(value, index, count, add) {\n            return value.slice(0, index) + (add || '') + value.slice(index + count);\n        },\n\n        random: function(min, max) {\n            return min + Math.floor(Math.random() * (max - min + 1));\n        },\n\n        find: function(obj, iterator, context) {\n            var result;\n\n            obj.some(function(value, index, list) {\n                if (iterator.call(context, value, index, list)) {\n                    result = value;\n                    return true;\n                }\n            });\n\n            return result;\n        },\n\n        column: function(obj, key) {\n            return laroux.map(obj, function(value) { return value[key]; }, true);\n        },\n\n        shuffle: function(obj) {\n            var index = 0,\n                shuffled = [];\n\n            for (var item in obj) {\n                if (!obj.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var rand = laroux.helpers.random(0, index);\n                shuffled[index++] = shuffled[rand];\n                shuffled[rand] = obj[item];\n            }\n\n            return shuffled;\n        },\n\n        merge: function() {\n            var target = Array.prototype.shift.call(arguments),\n                tmp = target,\n                isArray = tmp instanceof Array;\n\n            for (var item in arguments) {\n                if (isArray) {\n                    tmp = tmp.concat(arguments[item]);\n                    continue;\n                }\n\n                for (var attr in arguments[item]) {\n                    if (!arguments[item].hasOwnProperty(attr)) {\n                        continue;\n                    }\n\n                    tmp[attr] = arguments[item][attr];\n                }\n            }\n\n            return tmp;\n        },\n\n        duplicate: function(obj) {\n            return JSON.parse(JSON.stringify(obj));\n        },\n\n        toArray: function(obj) {\n            var length = obj.length,\n                items = new Array(length);\n\n            for (var i = 0; i < length; i++) {\n                items[i] = obj[i];\n            }\n\n            return items;\n        },\n\n        getAsArray: function(obj) {\n            var items;\n\n            if (obj instanceof Array) {\n                items = obj;\n            } else if (obj instanceof NodeList) {\n                var length = obj.length;\n\n                items = new Array(length);\n                for (var i = 0; i < length; i++) {\n                    items[i] = obj[i];\n                }\n            } else {\n                items = [obj];\n            }\n\n            return items;\n        },\n\n        getLength: function(obj) {\n            if (obj.constructor === Object) {\n                if (obj.length !== undefined) {\n                    return obj.length;\n                }\n\n                return Object.keys(obj).length;\n            }\n\n            return -1;\n        },\n\n        getKeysRecursive: function(obj, delimiter, prefix, keys) {\n            if (delimiter === undefined) {\n                delimiter = '.';\n            }\n\n            if (prefix === undefined) {\n                prefix = '';\n                keys = [];\n            }\n\n            for (var item in obj) {\n                if (!obj.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                keys.push(prefix + item);\n\n                if (obj[item] !== undefined && obj[item] !== null && obj[item].constructor === Object) {\n                    laroux.helpers.getKeysRecursive(obj[item], delimiter, prefix + item + delimiter, keys);\n                    continue;\n                }\n            }\n\n            return keys;\n        },\n\n        getElement: function(obj, path, defaultValue, delimiter) {\n            if (defaultValue === undefined) {\n                defaultValue = null;\n            }\n\n            if (delimiter === undefined) {\n                delimiter = '.';\n            }\n\n            var pos = path.indexOf(delimiter);\n            var key;\n            var rest;\n            if (pos === -1) {\n                key = path;\n                rest = null;\n            } else {\n                key = path.substring(0, pos);\n                rest = path.substring(pos + 1);\n            }\n\n            if (!(key in obj)) {\n                return defaultValue;\n            }\n\n            if (rest === null || rest.length === 0) {\n                return obj[key];\n            }\n\n            return laroux.helpers.getElement(obj[key], rest, defaultValue, delimiter);\n        },\n        /* for javascript 1.7 or later,\n\n        getKeys: function(obj) {\n            var keys = Object.keys(obj);\n            for (var item in keys) {\n                yield keys[item];\n            }\n        } */\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l\n\n    // timers\n    laroux.timers = {\n        data: [],\n\n        set: function(timer) {\n            timer.next = Date.now() + timer.timeout;\n            laroux.timers.data.push(timer);\n        },\n\n        remove: function(id) {\n            var targetKey = null;\n\n            for (var item in laroux.timers.data) {\n                if (!laroux.timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux.timers.data[item];\n\n                if (currentItem.id !== undefined && currentItem.id == id) {\n                    targetKey = item;\n                    break;\n                }\n            }\n\n            if (targetKey !== null) {\n                laroux.timers.data.splice(targetKey, 1);\n                return true;\n            }\n\n            return false;\n        },\n\n        ontick: function() {\n            var now = Date.now();\n\n            var removeKeys = [];\n            for (var item in laroux.timers.data) {\n                if (!laroux.timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux.timers.data[item];\n\n                if (currentItem.next <= now) {\n                    var result = currentItem.ontick(currentItem.state);\n\n                    if (result !== false && currentItem.reset) {\n                        currentItem.next = now + currentItem.timeout;\n                    } else {\n                        removeKeys.unshift(item);\n                    }\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux.timers.data.splice(removeKeys[item2], 1);\n            }\n        }\n    };\n\n    laroux.ready(function() {\n        setInterval(laroux.timers.ontick, 100);\n    });\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l.helpers\n\n    // triggers\n    laroux.triggers = {\n        delegates: [],\n        list: [],\n\n        set: function(condition, fnc, state) {\n            var conditions = laroux.helpers.getAsArray(condition);\n\n            for (var item in conditions) {\n                if (!conditions.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux.aindex(laroux.triggers.list, conditions[item]) === -1) {\n                    laroux.triggers.list.push(conditions[item]);\n                }\n            }\n\n            laroux.triggers.delegates.push({\n                conditions: conditions,\n                fnc: fnc,\n                state: state\n            });\n        },\n\n        ontrigger: function(triggerName, args) {\n            var eventIdx = laroux.aindex(laroux.triggers.list, triggerName);\n            if (eventIdx !== -1) {\n                laroux.triggers.list.splice(eventIdx, 1);\n            }\n\n            var removeKeys = [];\n            for (var item in laroux.triggers.delegates) {\n                if (!laroux.triggers.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var count = 0;\n                var currentItem = laroux.triggers.delegates[item];\n\n                for (var conditionKey in currentItem.conditions) {\n                    if (!currentItem.conditions.hasOwnProperty(conditionKey)) {\n                        continue;\n                    }\n\n                    var conditionObj = currentItem.conditions[conditionKey];\n\n                    if (laroux.aindex(laroux.triggers.list, conditionObj) !== -1) {\n                        count++;\n                        // break;\n                    }\n                }\n\n                if (count === 0) {\n                    currentItem.fnc(\n                        {\n                            state: currentItem.state,\n                            args: laroux.helpers.getAsArray(args)\n                        }\n                    );\n                    removeKeys.unshift(item);\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux.triggers.delegates.splice(removeKeys[item2], 1);\n            }\n\n            // console.log('trigger name: ' + triggerName);\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l\n\n    // vars\n    laroux.vars = {\n        cookiePath: '/',\n\n        getCookie: function(name, defaultValue) {\n            var re = new RegExp(encodeURIComponent(name) + '=[^;]+', 'i');\n            var match = document.cookie.match(re);\n            \n            if (!match) {\n                return defaultValue || null;\n            }\n\n            return decodeURIComponent(match[0].split('=')[1]);\n        },\n\n        setCookie: function(name, value, expires, path) {\n            var expireValue = '';\n            if (expires) {\n                expireValue = '; expires=' + expires.toGMTString();\n            }\n\n            document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value) + expireValue + '; path=' + (path || laroux.vars.cookiePath);\n        },\n\n        removeCookie: function(name, path) {\n            document.cookie = encodeURIComponent(name) + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=' + (path || laroux.vars.cookiePath);\n        },\n\n        getLocal: function(name, defaultValue) {\n            if (!(name in localStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(localStorage[name]);\n        },\n\n        setLocal: function(name, value) {\n            localStorage[name] = JSON.stringify(value);\n        },\n\n        removeLocal: function(name) {\n            delete localStorage[name];\n        },\n\n        getSession: function(name, defaultValue) {\n            if (!(name in sessionStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(sessionStorage[name]);\n        },\n\n        setSession: function(name, value) {\n            sessionStorage[name] = JSON.stringify(value);\n        },\n\n        removeSession: function(name) {\n            delete sessionStorage[name];\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l.helpers\n    // requires $l.css\n\n    // anim\n    laroux.anim = {\n        data: [],\n\n        fx: {\n            interpolate: function (source, target, shift) {\n                return (source + (target - source) * shift);\n            },\n\n            easing: function (pos) {\n                return (-Math.cos(pos * Math.PI) / 2) + 0.5;\n            }\n        },\n\n        // {object, property, from, to, time, unit, reset}\n        set: function(newanim) {\n            newanim.startTime = null;\n\n            if (newanim.unit === undefined || newanim.unit === null) {\n                newanim.unit = '';\n            }\n\n            if (newanim.from === undefined || newanim.from === null) {\n                if (newanim.object === document.body && newanim.property == 'scrollTop') {\n                    newanim.from = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\n                } else {\n                    newanim.from = newanim.object[newanim.property];\n                }\n            }\n\n            if (typeof newanim.from == 'string') {\n                newanim.from = Number(newanim.from);\n            }\n\n            if (newanim.reset === undefined || newanim.reset === null) {\n                newanim.reset = false;\n            }\n\n            // if (newanim.id === undefined) {\n            //     newanim.id = laroux.helpers.getUniqueId();\n            // }\n\n            laroux.anim.data.push(newanim);\n            if (laroux.anim.data.length === 1) {\n                requestAnimationFrame(laroux.anim.onframe);\n            }\n        },\n\n        setCss: function(newanim) {\n            if (newanim.from === undefined || newanim.from === null) {\n                newanim.from = laroux.css.getProperty(newanim.object, newanim.property);\n            }\n\n            newanim.object = newanim.object.style;\n            newanim.property = laroux.helpers.camelCase(newanim.property);\n\n            laroux.anim.set(newanim);\n        },\n\n        remove: function(id) {\n            var targetKey = null;\n\n            for (var item in laroux.anim.data) {\n                if (!laroux.anim.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux.anim.data[item];\n\n                if (currentItem.id !== undefined && currentItem.id == id) {\n                    targetKey = item;\n                    break;\n                }\n            }\n\n            if (targetKey !== null) {\n                laroux.anim.data.splice(targetKey, 1);\n                return true;\n            }\n\n            return false;\n        },\n\n        onframe: function(timestamp) {\n            var removeKeys = [];\n            for (var item in laroux.anim.data) {\n                if (!laroux.anim.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux.anim.data[item];\n                if (currentItem.startTime === null) {\n                    currentItem.startTime = timestamp;\n                }\n\n                var result = laroux.anim.step(currentItem, timestamp);\n\n                if (result === false) {\n                    removeKeys.unshift(item);\n                } else if (timestamp > currentItem.startTime + currentItem.time) {\n                    if (currentItem.reset) {\n                        currentItem.startTime = timestamp;\n                        if (newanim.object === document.body && newanim.property == 'scrollTop') {\n                            scrollTo(0, currentItem.from);\n                            // setTimeout(function() { scrollTo(0, currentItem.from); }, 1);\n                        } else {\n                            currentItem.object[currentItem.property] = currentItem.from;\n                        }\n                    } else {\n                        removeKeys.unshift(item);\n                    }\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux.anim.data.splice(removeKeys[item2], 1);\n            }\n\n            if (laroux.anim.data.length > 0) {\n                requestAnimationFrame(laroux.anim.onframe);\n            }\n        },\n\n        step: function(newanim, timestamp) {\n            var finishT = newanim.startTime + newanim.time,\n                shift = (timestamp > finishT) ? 1 : (timestamp - newanim.startTime) / newanim.time;\n\n            var value = laroux.anim.fx.interpolate(\n                newanim.from,\n                newanim.to,\n                laroux.anim.fx.easing(shift)\n            ) + newanim.unit;\n\n            if (newanim.object === document.body && newanim.property == 'scrollTop') {\n                scrollTo(0, value);\n                // setTimeout(function() { scrollTo(0, value); }, 1);\n            } else {\n                newanim.object[newanim.property] = value;\n            }\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // date\n    laroux.date = {\n        shortDateFormat: 'dd.MM.yyyy',\n        longDateFormat: 'dd MMMM yyyy',\n        timeFormat: 'HH:mm',\n\n        monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        monthsLong: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\n        strings: {\n            now:     'now',\n            later:   'later',\n            ago:     'ago',\n            seconds: 'seconds',\n            aminute: 'a minute',\n            minutes: 'minutes',\n            ahour:   'a hour',\n            hours:   'hours',\n            aday:    'a day',\n            days:    'days',\n            aweek:   'a week',\n            weeks:   'weeks',\n            amonth:  'a month',\n            months:  'months',\n            ayear:   'a year',\n            years:   'years'\n        },\n\n        parseEpoch: function(timespan, limitWithWeeks) {\n            if (timespan < 60*1000) {\n                timespan = Math.ceil(timespan / 1000);\n\n                return timespan + ' ' + laroux.date.strings.seconds;\n            }\n\n            if (timespan < 60*60*1000) {\n                timespan = Math.ceil(timespan / (60*1000));\n\n                if (timespan == 1) {\n                    return laroux.date.strings.aminute;\n                }\n\n                return timespan + ' ' + laroux.date.strings.minutes;\n            }\n\n            if (timespan < 24*60*60*1000) {\n                timespan = Math.ceil(timespan / (60*60*1000));\n\n                if (timespan == 1) {\n                    return laroux.date.strings.ahour;\n                }\n\n                return timespan + ' ' + laroux.date.strings.hours;\n            }\n\n            if (timespan < 7*24*60*60*1000) {\n                timespan = Math.ceil(timespan / (24*60*60*1000));\n\n                if (timespan == 1) {\n                    return laroux.date.strings.aday;\n                }\n\n                return timespan + ' ' + laroux.date.strings.days;\n            }\n\n            if (timespan < 4*7*24*60*60*1000) {\n                timespan = Math.ceil(timespan / (7*24*60*60*1000));\n\n                if (timespan == 1) {\n                    return laroux.date.strings.aweek;\n                }\n\n                return timespan + ' ' + laroux.date.strings.weeks;\n            }\n\n            if (limitWithWeeks === true) {\n                return null;\n            }\n\n            if (timespan < 30*7*24*60*60*1000) {\n                timespan = Math.ceil(timespan / (30*24*60*60*1000));\n\n                if (timespan == 1) {\n                    return laroux.date.strings.amonth;\n                }\n\n                return timespan + ' ' + laroux.date.strings.months;\n            }\n\n            timespan = Math.ceil(timespan / (365*24*60*60*1000));\n\n            if (timespan == 1) {\n                return laroux.date.strings.ayear;\n            }\n\n            return timespan + ' ' + laroux.date.strings.years;\n        },\n\n        getCustomDateString: function(format, date) {\n            var now = date || new Date();\n\n            return format.replace(\n                /yyyy|yy|MMMM|MMM|MM|M|dd|d|hh|h|HH|H|mm|m|ss|s|tt|t/g,\n                function(match) {\n                    switch (match) {\n                        case 'yyyy':\n                            return now.getFullYear();\n\n                        case 'yy':\n                            return now.getYear();\n\n                        case 'MMMM':\n                            return laroux.date.monthsLong[now.getMonth()];\n\n                        case 'MMM':\n                            return laroux.date.monthsShort[now.getMonth()];\n\n                        case 'MM':\n                            return ('0' + (now.getMonth() + 1)).substr(-2, 2);\n\n                        case 'M':\n                            return now.getMonth() + 1;\n\n                        case 'dd':\n                            return ('0' + now.getDate()).substr(-2, 2);\n\n                        case 'd':\n                            return now.getDate();\n\n                        case 'hh':\n                            var hour1 = now.getHours();\n                            return ('0' + (((hour1 % 12) > 0) ? hour1 % 12 : 12)).substr(-2, 2);\n\n                        case 'h':\n                            var hour2 = now.getHours();\n                            return ((hour2 % 12) > 0) ? hour2 % 12 : 12;\n\n                        case 'HH':\n                            return ('0' + now.getHours()).substr(-2, 2);\n\n                        case 'H':\n                            return now.getHours();\n\n                        case 'mm':\n                            return ('0' + now.getMinutes()).substr(-2, 2);\n\n                        case 'm':\n                            return now.getMinutes();\n\n                        case 'ss':\n                            return ('0' + now.getSeconds()).substr(-2, 2);\n\n                        case 's':\n                            return now.getSeconds();\n\n                        case 'tt':\n                            if (now.getHours() >= 12) {\n                                return 'pm';\n                            }\n\n                            return 'am';\n\n                        case 't':\n                            if (now.getHours() >= 12) {\n                                return 'p';\n                            }\n\n                            return 'a';\n                    }\n\n                    return match;\n                }\n            );\n        },\n\n        getDateDiffString: function(date) {\n            var now = Date.now(),\n                timespan = now - date.getTime(),\n                absTimespan = Math.abs(timespan),\n                past = (timespan > 0);\n\n            if (absTimespan <= 3000) {\n                return laroux.date.strings.now;\n            }\n\n            var timespanstring = laroux.date.parseEpoch(absTimespan, true);\n            if (timespanstring !== null) {\n                return timespanstring +\n                    ' ' +\n                    (past ?\n                        laroux.date.strings.ago :\n                        laroux.date.strings.later);\n            }\n\n            return laroux.date.getShortDateString(date, true);\n        },\n\n        getShortDateString: function(date, includeTime) {\n            return laroux.date.getCustomDateString(\n                includeTime ?\n                    laroux.date.shortDateFormat + ' ' + laroux.date.timeFormat :\n                    laroux.date.shortDateFormat,\n                date\n            );\n        },\n\n        getLongDateString: function(date, includeTime) {\n            return laroux.date.getCustomDateString(\n                includeTime ?\n                    laroux.date.longDateFormat + ' ' + laroux.date.timeFormat :\n                    laroux.date.longDateFormat,\n                date\n            );\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\r\n    'use strict';\r\n\r\n    // requires $l.dom\r\n    // requires $l.forms\r\n\r\n    // keys\r\n    laroux.keys = {\r\n        keyName: function(keycode) {\r\n            keycode = keycode.toLowerCase();\r\n\r\n            switch (keycode) {\r\n                case 'backspace':\r\n                    return 8;\r\n\r\n                case 'tab':\r\n                    return 9;\r\n\r\n                case 'enter':\r\n                case 'return':\r\n                    return 13;\r\n\r\n                case 'esc':\r\n                case 'escape':\r\n                    return 27;\r\n\r\n                case 'space':\r\n                    return 32;\r\n\r\n                case 'pgup':\r\n                    return 33;\r\n\r\n                case 'pgdn':\r\n                    return 34;\r\n\r\n                case 'end':\r\n                    return 35;\r\n\r\n                case 'home':\r\n                    return 36;\r\n\r\n                case 'left':\r\n                    return 37;\r\n\r\n                case 'up':\r\n                    return 38;\r\n\r\n                case 'right':\r\n                    return 39;\r\n\r\n                case 'down':\r\n                    return 40;\r\n\r\n                case 'insert':\r\n                    return 45;\r\n\r\n                case 'delete':\r\n                    return 46;\r\n\r\n                case 'f1':\r\n                    return 112;\r\n\r\n                case 'f2':\r\n                    return 113;\r\n\r\n                case 'f3':\r\n                    return 114;\r\n\r\n                case 'f4':\r\n                    return 115;\r\n\r\n                case 'f5':\r\n                    return 116;\r\n\r\n                case 'f6':\r\n                    return 117;\r\n\r\n                case 'f7':\r\n                    return 118;\r\n\r\n                case 'f8':\r\n                    return 119;\r\n\r\n                case 'f9':\r\n                    return 120;\r\n\r\n                case 'f10':\r\n                    return 121;\r\n\r\n                case 'f11':\r\n                    return 122;\r\n\r\n                case 'f12':\r\n                    return 123;\r\n\r\n                case ',':\r\n                    return 188;\r\n\r\n                case '.':\r\n                    return 190;\r\n            }\r\n\r\n            return String.fromCharCode(keycode);\r\n        },\r\n\r\n        // {target, key, shift, ctrl, alt, disableInputs, fnc}\r\n        assign: function(options) {\r\n            var wrapper = function(event) {\r\n                if (!event) {\r\n                    event = window.event;\r\n                }\r\n\r\n                var element = event.target || event.srcElement;\r\n                if (/* element.nodeType === 1 || */element.nodeType === 3 || element.nodeType === 11) {\r\n                    element = element.parentNode;\r\n                }\r\n\r\n                if (options.disableInputs && laroux.forms.isFormField(element)) {\r\n                    return;\r\n                }\r\n\r\n                if (options.shift && !event.shiftKey) {\r\n                    return;\r\n                }\r\n\r\n                if (options.ctrl && !event.ctrlKey) {\r\n                    return;\r\n                }\r\n\r\n                if (options.alt && !event.altKey) {\r\n                    return;\r\n                }\r\n\r\n                var key = laroux.keys.keyName(options.key);\r\n                if (key !== (event.keyCode || event.which)) {\r\n                    return;\r\n                }\r\n\r\n                options.fnc(event);\r\n\r\n                return false;\r\n            };\r\n\r\n            laroux.dom.setEvent(options.target || document, 'keydown', wrapper);\r\n        }\r\n    };\r\n\r\n})(this.laroux);\r\n;(function(laroux) {\n    'use strict';\n\n    // requires $l.dom\n    // requires $l.helpers\n    // requires $l.stack\n\n    // mvc\n    laroux.mvc = {\n        apps: {},\n        pauseUpdate: false,\n\n        init: function(element, model) {\n            if (element.constructor === String) {\n                element = laroux.dom.selectById(element);\n            }\n\n            // if (model.constructor !== laroux.stack) {\n            //     model = new laroux.stack(model);\n            // }\n\n            var appKey = element.getAttribute('id');\n\n            model.onupdate = function(event) {\n                if (!laroux.mvc.pauseUpdate) {\n                    laroux.mvc.update(appKey); // , [event.key]\n                }\n            };\n\n            laroux.mvc.apps[appKey] = {\n                element: element,\n                model: model // ,\n                // modelKeys: null,\n                // boundElements: null,\n                // eventElements: null\n            };\n\n            laroux.mvc.rebind(appKey);\n        },\n\n        rebind: function(appKey) {\n            var app = laroux.mvc.apps[appKey];\n            app.modelKeys = laroux.helpers.getKeysRecursive(app.model._data); // FIXME: works only for $l.stack\n            app.boundElements = {};\n            app.eventElements = [];\n\n            laroux.mvc.scanElements(app, app.element);\n            laroux.mvc.update(appKey);\n\n            var fnc = function(ev, elem) {\n                var binding = laroux.mvc.bindStringParser(elem.getAttribute('lr-event'));\n                // laroux.mvc.pauseUpdate = true;\n                for (var item in binding) {\n                    if (item === null || !binding.hasOwnProperty(item)) {\n                        continue;\n                    }\n\n                    if (binding[item].charAt(0) == '\\'') {\n                        app.model[item] = binding[item].substring(1, binding[item].length - 1);\n                    } else if (binding[item].substring(0, 5) == 'attr.') {\n                        app.model[item] = elem.getAttribute(binding[item].substring(5));\n                    } else if (binding[item].substring(0, 5) == 'prop.') {\n                        app.model[item] = elem[binding[item].substring(5)];\n                    }\n                }\n                // laroux.mvc.pauseUpdate = false;\n            };\n\n            for (var i = 0, length = app.eventElements.length; i < length; i++) {\n                laroux.dom.setEvent(\n                    app.eventElements[i].element,\n                    app.eventElements[i].binding[null],\n                    fnc\n                );\n            }\n        },\n\n        scanElements: function(app, element) {\n            for (var i = 0, atts = element.attributes, m = atts.length; i < m; i++) {\n                if (atts[i].name == 'lr-bind') {\n                    var binding1 = laroux.mvc.bindStringParser(atts[i].value);\n\n                    for (var item in binding1) {\n                        if (!binding1.hasOwnProperty(item)) {\n                            continue;\n                        }\n\n                        if (app.boundElements[binding1[item]] === undefined) {\n                            app.boundElements[binding1[item]] = [];\n                        }\n\n                        app.boundElements[binding1[item]].push({\n                            element: element,\n                            target: item\n                        });\n                    }\n                } else if (atts[i].name == 'lr-event') {\n                    var binding2 = laroux.mvc.bindStringParser(atts[i].value);\n\n                    app.eventElements.push({\n                        element: element,\n                        binding: binding2\n                    });\n                }\n            }\n\n            for (var j = 0, chldrn = element.childNodes, n = chldrn.length; j < n; j++) {\n                if (chldrn[j].nodeType === 1) {\n                    laroux.mvc.scanElements(app, chldrn[j]);\n                }\n            }\n        },\n\n        update: function(appKey, keys) {\n            var app = laroux.mvc.apps[appKey];\n\n            if (typeof keys == 'undefined') {\n                keys = app.modelKeys;\n            }\n\n            for (var i = 0, length1 = keys.length; i < length1; i++) {\n                if (!(keys[i] in app.boundElements)) {\n                    continue;\n                }\n\n                var boundElement = app.boundElements[keys[i]];\n\n                for (var j = 0, length2 = boundElement.length; j < length2; j++) {\n                    if (boundElement[j].target.substring(0, 6) == 'style.') {\n                        boundElement[j].element.style[boundElement[j].target.substring(6)] = laroux.helpers.getElement(app.model, keys[i]);\n                    } else if (boundElement[j].target.substring(0, 5) == 'attr.') {\n                        // FIXME removeAttribute on null value?\n                        boundElement[j].element.setAttribute(boundElement[j].target.substring(5), laroux.helpers.getElement(app.model, keys[i]));\n                    } else if (boundElement[j].target.substring(0, 5) == 'prop.') {\n                        // FIXME removeAttribute on null value?\n                        boundElement[j].element[boundElement[j].target.substring(5)] = laroux.helpers.getElement(app.model, keys[i]);\n                    }\n                }\n            }\n        },\n\n        bindStringParser: function(text) {\n            var lastBuffer = null,\n                buffer = '',\n                state = 0,\n                result = {};\n\n            for (var i = 0, length = text.length; i < length; i++) {\n                var curr = text.charAt(i);\n\n                if (state === 0) {\n                    if (curr == ':') {\n                        state = 1;\n                        lastBuffer = buffer.trim();\n                        buffer = '';\n                        continue;\n                    }\n                }\n\n                if (curr == ',') {\n                    state = 0;\n                    result[lastBuffer] = buffer.trim();\n                    buffer = '';\n                    continue;\n                }\n\n                buffer += curr;\n            }\n\n            if (buffer.length > 0) {\n                result[lastBuffer] = buffer.trim();\n            }\n\n            return result;\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // stack\n    laroux.stack = function(data, depth, top) {\n        this._data = {};\n        this._depth = depth;\n        this._top = top || this;\n\n        this.set = function(key, value) {\n            // delete this._data[key];\n\n            var type = typeof value;\n            switch (type) {\n                case 'function':\n                    this._data[key] = value;\n\n                    Object.defineProperty(\n                        this,\n                        key,\n                        {\n                            configurable: true,\n                            get: function() {\n                                return this._data[key]();\n                            }\n                        }\n                    );\n                    break;\n\n                default:\n                    /*\n                    if (type == 'object') {\n                        this._data[key] = new laroux.stack(\n                            value,\n                            this._depth ?\n                                this._depth + '.' + key :\n                                key,\n                            this._top\n                        );\n                    } else {\n                        this._data[key] = value;\n                    }\n                    */\n                    this._data[key] = value;\n\n                    Object.defineProperty(\n                        this,\n                        key,\n                        {\n                            configurable: true,\n                            get: function() {\n                                return this._data[key];\n                            },\n                            set: function(newValue) {\n                                var oldValue = this._data[key];\n                                if (this._data[key] === newValue) {\n                                    return;\n                                }\n\n                                // this.set(this, key, newValue);\n                                this._data[key] = newValue;\n                                this._top.onupdate({scope: this, key: key, oldValue: oldValue, newValue: newValue});\n                            }\n                        }\n                    );\n                    break;\n            }\n        };\n\n        this.setRange = function(values) {\n            for (var valueKey in values) {\n                if (!values.hasOwnProperty(valueKey)) {\n                    continue;\n                }\n\n                this.set(valueKey, values[valueKey]);\n            }\n        };\n\n        this.get = function(key, defaultValue) {\n            return this[key] || defaultValue || null;\n        };\n\n        this.getRange = function(keys) {\n            var values = {};\n\n            for (var item in keys) {\n                if (!keys.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                values[keys[item]] = this[keys[item]];\n            }\n\n            return values;\n        };\n\n        this.keys = function() {\n            return Object.keys(this._data);\n        };\n\n        this.length = function() {\n            return Object.keys(this._data).length;\n        };\n\n        this.exists = function(key) {\n            return (key in this._data);\n        };\n\n        this.remove = function(key) {\n            if (key in this._data) {\n                delete this[key];\n                delete this._data[key];\n            }\n        };\n\n        this.clear = function() {\n            for (var item in this._data) {\n                if (!this._data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                delete this[item];\n                delete this._data[item];\n            }\n\n            this._data = {};\n        };\n\n        this.onupdate = function(event) {\n        };\n\n        if (data) {\n            this.setRange(data);\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\n    'use strict';\n\n    // requires $l.dom\n\n    // templates\n    laroux.templates = {\n        engines: {\n            plain: {\n                compile: function(template, options) {\n                    return [template, options];\n                },\n\n                render: function(compiled, model) {\n                    var result = compiled[0],\n                        dict = [],\n                        lastIndex = 0,\n                        nextIndex;\n\n                    while ((nextIndex = result.indexOf('{{', lastIndex)) !== -1) {\n                        nextIndex += 2;\n                        var closeIndex = result.indexOf('}}', nextIndex);\n                        if (closeIndex === -1) {\n                            break;\n                        }\n\n                        var key = result.substring(nextIndex, closeIndex);\n                        dict['{{' + key + '}}'] = laroux.helpers.getElement(model, key, '');\n                        lastIndex = closeIndex + 2;\n                    }\n\n                    return laroux.helpers.replaceAll(result, dict);\n                }\n            },\n\n            hogan: {\n                compile: function(template, options) {\n                    return Hogan.compile(template, options);\n                },\n\n                render: function(compiled, model) {\n                    return compiled.render(model);\n                }\n            },\n\n            mustache: {\n                compile: function(template, options) {\n                    return Mustache.compile(template, options);\n                },\n\n                render: function(compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            handlebars: {\n                compile: function(template, options) {\n                    return Handlebars.compile(template, options);\n                },\n\n                render: function(compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            lodash: {\n                compile: function(template, options) {\n                    return _.compile(template, null, options);\n                },\n\n                render: function(compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            underscore: {\n                compile: function(template, options) {\n                    return _.compile(template, null, options);\n                },\n\n                render: function(compiled, model) {\n                    return compiled(model);\n                }\n            }\n        },\n        engine: 'plain',\n\n        apply: function(element, model, options) {\n            var content, engine = laroux.templates.engines[laroux.templates.engine];\n\n            if (element.nodeType === 1 || element.nodeType === 3 || element.nodeType === 11) {\n                content = element.textContent;\n            } else {\n                content = element.nodeValue;\n            }\n\n            var compiled = engine.compile(content, options);\n            return engine.render(compiled, model);\n        },\n\n        insert: function(element, model, target, position, options) {\n            var output = laroux.templates.apply(element, model, options);\n\n            laroux.dom.insert(target, position || 'beforeend', output);\n        },\n\n        replace: function(element, model, target, options) {\n            var output = laroux.templates.apply(element, model, options);\n\n            laroux.dom.replace(target, output);\n        }\n    };\n\n})(this.laroux);\n;(function(laroux) {\r\n    'use strict';\r\n\r\n    // requires $l.dom\r\n\r\n    // touch - partially taken from 'tocca.js' project\r\n    //         can be found at: https://github.com/GianlucaGuarini/Tocca.js\r\n    laroux.touch = {\r\n        touchStarted: null,\r\n        swipeTreshold: 80,\r\n        precision: 30,\r\n        tapCount: 0,\r\n        tapTreshold: 200,\r\n        longTapTreshold: 800,\r\n        tapTimer: null,\r\n        pos: null,\r\n        cached: null,\r\n\r\n        events: {\r\n            start: ['touchstart', 'pointerdown', 'MSPointerDown', 'mousedown'],\r\n            end: ['touchend', 'pointerup', 'MSPointerUp', 'mouseup'],\r\n            move: ['touchmove', 'pointermove', 'MSPointerMove', 'mousemove']\r\n        },\r\n\r\n        locatePointer: function(event) {\r\n            if (event.targetTouches) {\r\n                event = event.targetTouches[0];\r\n            }\r\n\r\n            laroux.touch.pos = [event.pageX, event.pageY];\r\n        },\r\n\r\n        onstart: function(event) {\r\n            laroux.touch.locatePointer(event);\r\n            laroux.touch.cached = [laroux.touch.pos[0], laroux.touch.pos[1]];\r\n            laroux.touch.touchStarted = Date.now();\r\n            laroux.touch.tapCount++;\r\n\r\n            var fnc = function() {\r\n                if (\r\n                    laroux.touch.cached[0] >= laroux.touch.pos[0] - laroux.touch.precision &&\r\n                    laroux.touch.cached[0] <= laroux.touch.pos[0] + laroux.touch.precision &&\r\n                    laroux.touch.cached[1] >= laroux.touch.pos[1] - laroux.touch.precision &&\r\n                    laroux.touch.cached[1] <= laroux.touch.pos[1] + laroux.touch.precision\r\n                ) {\r\n                    if (laroux.touch.touchStarted === null) {\r\n                        laroux.dom.dispatchEvent(\r\n                            event.target,\r\n                            (laroux.touch.tapCount === 2) ? 'dbltap' : 'tap',\r\n                            {\r\n                                innerEvent: event,\r\n                                x: laroux.touch.pos[0],\r\n                                y: laroux.touch.pos[1],\r\n                            }\r\n                        );\r\n\r\n                        laroux.touch.tapCount = 0;\r\n                        return;\r\n                    }\r\n\r\n                    if (Date.now() - laroux.touch.touchStarted > laroux.touch.longTapTreshold) {\r\n                        laroux.dom.dispatchEvent(\r\n                            event.target,\r\n                            'longtap',\r\n                            {\r\n                                innerEvent: event,\r\n                                x: laroux.touch.pos[0],\r\n                                y: laroux.touch.pos[1],\r\n                            }\r\n                        );\r\n\r\n                        laroux.touch.touchStarted = null;\r\n                        laroux.touch.tapCount = 0;\r\n                        return;\r\n                    }\r\n\r\n                    laroux.tapTimer = setTimeout(fnc, laroux.touch.tapTreshold);\r\n                    return;\r\n                }\r\n\r\n                laroux.touch.tapCount = 0;\r\n            };\r\n\r\n            clearTimeout(laroux.tapTimer);\r\n            laroux.tapTimer = setTimeout(fnc, laroux.touch.tapTreshold);\r\n        },\r\n\r\n        onend: function(event) {\r\n            var delta = [\r\n                    laroux.touch.pos[0] - laroux.touch.cached[0],\r\n                    laroux.touch.pos[1] - laroux.touch.cached[1]\r\n                ],\r\n                data = {\r\n                    innerEvent: event,\r\n                    x: laroux.touch.pos[0],\r\n                    y: laroux.touch.pos[1],\r\n                    distance: {\r\n                        x: Math.abs(delta[0]),\r\n                        y: Math.abs(delta[1])\r\n                    }\r\n                };\r\n\r\n            laroux.touch.touchStarted = null;\r\n\r\n            if (delta[0] <= -laroux.touch.swipeTreshold) {\r\n                laroux.dom.dispatchEvent(event.target, 'swiperight', data);\r\n            }\r\n\r\n            if (delta[0] >= laroux.touch.swipeTreshold) {\r\n                laroux.dom.dispatchEvent(event.target, 'swipeleft', data);\r\n            }\r\n\r\n            if (delta[1] <= -laroux.touch.swipeTreshold) {\r\n                laroux.dom.dispatchEvent(event.target, 'swipedown', data);\r\n            }\r\n\r\n            if (delta[1] >= laroux.touch.swipeTreshold) {\r\n                laroux.dom.dispatchEvent(event.target, 'swipeup', data);\r\n            }\r\n        }\r\n    };\r\n\r\n    laroux.ready(function() {\r\n        var events = [\r\n            0,\r\n            (navigator.msPointerEnabled) ? 2 : 1,\r\n            3\r\n        ];\r\n\r\n        for (var i = 0, length = events.length; i < length; i++) {\r\n            laroux.dom.setEventSingle(document, laroux.touch.events.start[events[i]], laroux.touch.onstart);\r\n            laroux.dom.setEventSingle(document, laroux.touch.events.end[events[i]], laroux.touch.onend);\r\n            laroux.dom.setEventSingle(document, laroux.touch.events.move[events[i]], laroux.touch.locatePointer);\r\n        }\r\n    });\r\n\r\n})(this.laroux);\r\n;(function(laroux) {\n    'use strict';\n\n    // requires $l\n    // requires $l.dom\n    // requires $l.helpers\n    // requires $l.css\n    // requires $l.timers\n    // requires $l.date\n\n    // ui\n    laroux.ui = {\n        floatContainer: null,\n\n        popup: {\n            defaultTimeout: 500,\n\n            createBox: function(id, xclass, message) {\n                return laroux.dom.createElement('DIV', {id: id, 'class': xclass},\n                    message\n                );\n            },\n\n            msgbox: function(timeout, message) {\n                var id = laroux.helpers.getUniqueId();\n                var obj = laroux.ui.popup.createBox(id, 'laroux_msgbox', message);\n                laroux.ui.floatContainer.appendChild(obj);\n\n                laroux.css.setProperty(obj, {opacity: 1});\n\n                laroux.timers.set({\n                    timeout: timeout,\n                    reset: false,\n                    ontick: function(x) {\n                        // laroux.css.setProperty(x, {opacity: 0});\n                        laroux.dom.remove(x);\n                    },\n                    state: obj\n                });\n            },\n\n            init: function() {\n                laroux.popupFunc = function(message) {\n                    laroux.ui.popup.msgbox(laroux.ui.popup.defaultTimeout, message);\n                };\n            }\n        },\n\n        loading: {\n            elementSelector: null,\n            element: null,\n            defaultDelay: 1500,\n            timer: null,\n\n            killTimer: function() {\n                clearTimeout(laroux.ui.loading.timer);\n            },\n\n            hide: function() {\n                laroux.ui.loading.killTimer();\n\n                laroux.css.setProperty(laroux.ui.loading.element, {display: 'none'});\n                localStorage.loadingIndicator = 'false';\n            },\n\n            show: function(delay) {\n                laroux.ui.loading.killTimer();\n\n                if (delay === undefined) {\n                    delay = laroux.ui.loading.defaultDelay;\n                }\n\n                if (delay > 0) {\n                    setTimeout(function() { laroux.ui.loading.show(0); }, delay);\n                } else {\n                    laroux.css.setProperty(laroux.ui.loading.element, {display: 'block'});\n                    localStorage.loadingIndicator = 'true';\n                }\n            },\n\n            init: function() {\n                if (laroux.ui.loading.element === null && laroux.ui.loading.elementSelector !== null) {\n                    laroux.ui.loading.element = laroux.dom.selectSingle(laroux.ui.loading.elementSelector);\n                }\n\n                if (laroux.ui.loading.element !== null) {\n                    laroux.dom.setEvent(window, 'load', laroux.ui.loading.hide);\n                    laroux.dom.setEvent(window, 'beforeunload', laroux.ui.loading.show);\n\n                    if (localStorage.loadingIndicator !== undefined && localStorage.loadingIndicator == 'true') {\n                        laroux.ui.loading.show(0);\n                    } else {\n                        laroux.ui.loading.show();\n                    }\n                }\n            }\n        },\n\n        dynamicDates: {\n            updateDatesElements: null,\n\n            updateDates: function() {\n                if (laroux.ui.dynamicDates.updateDatesElements === null) {\n                    laroux.ui.dynamicDates.updateDatesElements = laroux.dom.select('*[data-epoch]');\n                }\n\n                for (var item in laroux.ui.dynamicDates.updateDatesElements) {\n                    if (!laroux.ui.dynamicDates.updateDatesElements.hasOwnProperty(item)) {\n                        continue;\n                    }\n\n                    var obj = laroux.ui.dynamicDates.updateDatesElements[item];\n                    // bitshifting (str >> 0) used instead of parseInt(str, 10)\n                    var date = new Date((obj.getAttribute('data-epoch') >> 0) * 1000);\n\n                    laroux.dom.replace(\n                        obj,\n                        laroux.date.getDateString(date)\n                    );\n\n                    obj.setAttribute('title', laroux.date.getLongDateString(date));\n                }\n            },\n\n            init: function() {\n                laroux.timers.set({\n                    timeout: 500,\n                    reset: true,\n                    ontick: laroux.ui.dynamicDates.updateDates\n                });\n            }\n        },\n\n        scrollView: {\n            selectedElements: [],\n\n            onhidden: function(elements) {\n                laroux.css.setProperty(elements, {opacity: 0});\n                laroux.css.setTransition(elements, ['opacity']);\n            },\n\n            onreveal: function(elements) {\n                laroux.css.setProperty(elements, {opacity: 1});\n            },\n\n            set: function(element) {\n                var elements = laroux.helpers.getAsArray(element);\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    if (!laroux.css.inViewport(elements[i])) {\n                        laroux.ui.scrollView.selectedElements.push(elements[i]);\n                    }\n                }\n\n                laroux.ui.scrollView.onhidden(laroux.ui.scrollView.selectedElements);\n                laroux.dom.setEvent(window, 'scroll', laroux.ui.scrollView.reveal);\n            },\n\n            reveal: function() {\n                var removeKeys = [],\n                    elements = [];\n\n                laroux.each(\n                    laroux.ui.scrollView.selectedElements,\n                    function(i, element) {\n                        if (laroux.css.inViewport(element)) {\n                            removeKeys.unshift(i);\n                            elements.push(element);\n                        }\n                    }\n                );\n\n                for (var item in removeKeys) {\n                    if (!removeKeys.hasOwnProperty(item)) {\n                        continue;\n                    }\n\n                    laroux.ui.scrollView.selectedElements.splice(removeKeys[item], 1);\n                }\n\n                if (laroux.ui.scrollView.selectedElements.length === 0) {\n                    laroux.dom.unsetEvent(window, 'scroll', laroux.ui.scrollView.reveal);\n                }\n\n                if (elements.length > 0) {\n                    laroux.ui.scrollView.onreveal(elements);\n                }\n            }\n        },\n\n        createFloatContainer: function() {\n            if (!laroux.ui.floatContainer) {\n                laroux.ui.floatContainer = laroux.dom.createElement('DIV', {id: 'laroux_floatdiv'});\n                document.body.insertBefore(laroux.ui.floatContainer, document.body.firstChild);\n            }\n        },\n\n        init: function() {\n            laroux.ui.createFloatContainer();\n            laroux.ui.popup.init();\n            laroux.ui.loading.init();\n            laroux.ui.dynamicDates.init();\n        }\n    };\n\n})(this.laroux);\n"],"sourceRoot":"/source/"}